{
    "name": "lensy-backend",
    "version": "1.0.0",
    "description": "AWS CDK backend for Lensy documentation auditor",
    "main": "lib/index.js",
    "scripts": {
        "clean": "find lib -name '*.js' -delete 2>/dev/null; find lib -name '*.d.ts' -delete 2>/dev/null; true",
        "build": "npm run clean && tsc",
        "build:lambdas": "cd lambda/url-processor && npx tsc index.ts --target ES2020 --module commonjs --skipLibCheck --esModuleInterop --resolveJsonModule; cd ../structure-detector && npx tsc index.ts --target ES2020 --module commonjs --skipLibCheck --esModuleInterop; cd ../dimension-analyzer && npx tsc index.ts --target ES2020 --module commonjs --skipLibCheck --esModuleInterop; cd ../report-generator && npx tsc index.ts --target ES2020 --module commonjs --skipLibCheck --esModuleInterop; cd ../api-handler && npx tsc index.ts --target ES2020 --module commonjs --skipLibCheck --esModuleInterop",
        "watch": "tsc -w",
        "test": "jest",
        "cdk": "cdk",
        "deploy": "npm run build && npm run build:lambdas && cdk deploy",
        "synth": "cdk synth",
        "diff": "cdk diff",
        "destroy": "cdk destroy"
    },
    "dependencies": {
        "@aws-sdk/client-apigatewayv2": "^3.450.0",
        "@aws-sdk/client-bedrock-runtime": "^3.450.0",
        "@aws-sdk/client-dynamodb": "^3.958.0",
        "@aws-sdk/client-s3": "^3.958.0",
        "@aws-sdk/client-sfn": "^3.450.0",
        "@aws-sdk/util-dynamodb": "^3.958.0",
        "@mozilla/readability": "^0.6.0",
        "@types/jsdom": "^21.1.6",
        "@types/turndown": "^5.0.4",
        "aws-cdk-lib": "^2.110.0",
        "constructs": "^10.3.0",
        "fast-check": "^3.15.0",
        "jsdom": "^23.0.0",
        "turndown": "^7.1.2",
        "turndown-plugin-gfm": "^1.0.2"
    },
    "devDependencies": {
        "@types/aws-lambda": "^8.10.0",
        "@types/jest": "^29.5.0",
        "@types/node": "^20.0.0",
        "aws-cdk": "^2.110.0",
        "jest": "^29.7.0",
        "ts-jest": "^29.1.0",
        "typescript": "^4.9.5"
    },
    "jest": {
        "preset": "ts-jest",
        "testEnvironment": "node",
        "testMatch": [
            "**/__tests__/**/*.test.ts"
        ]
    }
}